//===========================================================================================================================================================
// 
// field.cpp
// Author : Kasai Keisuke
// 
//===========================================================================================================================================================

// include
#include "field.h"
#include "manager.h"

//========================================================================================================================
// コンストラクタ
//========================================================================================================================
CField::CField(int nPriority)
{

}

//========================================================================================================================
// デストラクタ
//========================================================================================================================
CField::~CField()
{

}

//========================================================================================================================
// 初期化処理
//========================================================================================================================
HRESULT CField::Init()
{
	SetSize({ 50.0f,0.0f, 10.0f });
	//SetRot({ D3DX_PI * 0.5f,0.0f,0.0f });

	// 3Dオブジェクトの初期化処理
	CObject3D::Init();

	return S_OK;
}

//========================================================================================================================
// 終了処理
//========================================================================================================================
void CField::Uninit()
{
	// 3Dオブジェクトの終了処理
	CObject3D::Uninit();
}

//========================================================================================================================
// 更新処理
//========================================================================================================================
void CField::Update()
{
	// 3Dオブジェクトの更新処理
	CObject3D::Update();
}

//========================================================================================================================
// 描画処理
//========================================================================================================================
void CField::Draw()
{
	// 3Dオブジェクトの描画処理
	CObject3D::Draw();
}

//========================================================================================================================
// 生成処理
//========================================================================================================================
CField* CField::Create(D3DXVECTOR3 pos)
{
	int nIdx = 0;
	CField* pField = new CField;
	pField->SetDivision(1);	// 分割数設定

	pField->Init();

	pField->SetPos(pos);

	pField->SetType(BLOCK);

	CTexture *pTexture;

	pTexture = CManager::GetTexture();

	nIdx = pTexture->Regist("data\\TEXTURE\\road.png");

	pField->BindTexture(pTexture->GetAddress(nIdx));


	return pField;
}
